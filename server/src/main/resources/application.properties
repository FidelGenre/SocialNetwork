# ===============================
# DATABASE CONNECTION (PostgreSQL)
# ===============================
# Replace 'social_network_db' with your actual database name
spring.datasource.url=jdbc:postgresql://localhost:5432/socialnetworkdb
spring.datasource.username=postgres
spring.datasource.password=12345a
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# JPA / HIBERNATE CONFIGURATION
# ===============================
# 'update' will automatically create/update tables to match your Java Entities
spring.jpa.hibernate.ddl-auto=update

# SQL Dialect for PostgreSQL
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Show SQL in console (great for debugging errors like the one you just had)
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ===============================
# SERVER CONFIGURATION
# ===============================
server.port=8080

# ===============================
# JACKSON / JSON CONFIGURATION
# ===============================
# Prevents errors when dealing with Lazy Loading and circular references in Social relationships
spring.jackson.serialization.fail-on-empty-beans=false

# ===============================
# INITIAL DATA LOADING (Optional)
# ===============================
# If you use a data.sql file to insert your users/roles automatically
spring.sql.init.mode=always

# Número máximo de conexiones activas en el pool
spring.datasource.hikari.maximum-pool-size=20
# Número mínimo de conexiones inactivas que se mantienen abiertas
spring.datasource.hikari.minimum-idle=5
# Tiempo máximo (en milisegundos) que una conexión puede estar inactiva
spring.datasource.hikari.idle-timeout=300000
# Tiempo máximo de espera para obtener una conexión del pool
spring.datasource.hikari.connection-timeout=20000

# Tamaño máximo de un solo archivo (ej: 10MB)
spring.servlet.multipart.max-file-size=10MB
# Tamaño máximo de la solicitud completa (ej: 10MB)
spring.servlet.multipart.max-request-size=10MB